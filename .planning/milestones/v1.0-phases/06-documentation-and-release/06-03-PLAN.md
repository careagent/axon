---
phase: 06-documentation-and-release
plan: 03
type: execute
wave: 2
depends_on:
  - 06-01
  - 06-02
files_modified:
  - CONTRIBUTING.md
  - README.md
autonomous: true
requirements:
  - DOCS-06

must_haves:
  truths:
    - "CONTRIBUTING.md exists with development setup instructions, testing instructions, and governance reference"
    - "README.md accurately reflects the implemented codebase (no references to non-existent files, directories, or CLI commands)"
    - "README.md references all newly created docs/ files and CONTRIBUTING.md with valid links"
  artifacts:
    - path: "CONTRIBUTING.md"
      provides: "Contribution guidelines with dev setup, testing, and governance"
      contains: "pnpm install"
    - path: "README.md"
      provides: "Accurate project overview matching actual implementation"
      contains: "src/broker/broker.ts"
  key_links:
    - from: "CONTRIBUTING.md"
      to: "docs/governance.md"
      via: "relative link"
      pattern: "docs/governance\\.md"
    - from: "README.md"
      to: "CONTRIBUTING.md"
      via: "relative link"
      pattern: "CONTRIBUTING\\.md"
    - from: "README.md"
      to: "docs/architecture.md"
      via: "relative link"
      pattern: "docs/architecture\\.md"
---

<objective>
Create CONTRIBUTING.md and reconcile README.md with the actual implementation.

Purpose: Complete the release preparation by providing contribution guidelines and ensuring the README -- the first thing a new developer sees -- accurately describes the implemented codebase.

Output: `CONTRIBUTING.md`, corrected `README.md`
</objective>

<execution_context>
@/Users/medomatic/.claude/get-shit-done/workflows/execute-plan.md
@/Users/medomatic/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-documentation-and-release/06-RESEARCH.md
@.planning/phases/06-documentation-and-release/06-01-SUMMARY.md
@.planning/phases/06-documentation-and-release/06-02-SUMMARY.md

# Current state of README and package.json
@README.md
@package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create CONTRIBUTING.md</name>
  <files>CONTRIBUTING.md</files>
  <action>
Write `CONTRIBUTING.md` following the neuron README style (concise, practical, no emoji). Target audience: developers who want to contribute to Axon.

Sections:

1. **Overview** — Brief: Axon is open-source under Apache 2.0. Contributions welcome from clinicians, security researchers, healthcare policy experts, and developers.

2. **Development Setup** — Step-by-step:
   ```bash
   git clone https://github.com/careagent/axon
   cd axon
   pnpm install
   pnpm build
   pnpm test
   ```
   Prerequisites: Node.js >= 22.12.0, pnpm. Note: zero runtime dependencies -- all devDependencies are bundled at build time by tsdown.

3. **Project Structure** — Brief overview of the source layout:
   ```
   src/
   ├── taxonomy/        # Clinical action taxonomy (AxonTaxonomy)
   ├── questionnaires/  # Provider questionnaire system (AxonQuestionnaires)
   ├── registry/        # NPI-keyed provider directory (AxonRegistry)
   ├── protocol/        # Ed25519 identity, message schemas, nonce store
   ├── broker/          # Connection broker pipeline (AxonBroker)
   ├── mock/            # HTTP mock server for integration testing
   ├── types/           # TypeBox schemas and derived types
   └── index.ts         # Axon namespace, re-exports all modules
   ```
   Reference `docs/architecture.md` for the full architecture guide.

4. **Testing** — Commands:
   - `pnpm test` — Run all tests
   - `pnpm test:coverage` — Run with coverage (80% threshold on all metrics)
   - Tests are in `test/` directory, organized by module
   - Coverage uses `@vitest/coverage-v8`
   Note: All tests must pass before submitting a PR.

5. **Build** — `pnpm build` uses tsdown with multi-entry points. Output goes to `dist/`. Package has 5 subpath exports (., ./taxonomy, ./questionnaires, ./types, ./mock).

6. **Contribution Types** — Table:
   | Type | Guide | Process |
   | Taxonomy extension | [docs/taxonomy.md](docs/taxonomy.md) | Issue → Clinical review → PR |
   | Protocol change | [docs/governance.md](docs/governance.md) | Issue → Discussion → PR |
   | New questionnaire | [docs/questionnaire-authoring.md](docs/questionnaire-authoring.md) | Issue → Clinical review → PR |
   | Bug fix | N/A | Issue → PR |
   | Documentation | N/A | PR |

7. **PR Process** — Brief:
   - Fork the repository
   - Create a feature branch
   - Make changes, ensure tests pass
   - Submit PR with description of what and why
   - Protocol changes: open an issue for discussion before writing code

8. **Code Conventions** — Brief list:
   - TypeScript strict mode (all strict flags enabled)
   - TypeBox for all schemas; types derived via `Static<typeof Schema>`
   - ESM only (`"type": "module"` in package.json)
   - No runtime npm dependencies
   - Use `node:crypto`, `node:fs`, `node:path` built-ins

9. **License** — Apache 2.0. See LICENSE file.
  </action>
  <verify>
- File exists: `CONTRIBUTING.md`
- Contains development setup with `pnpm install`, `pnpm build`, `pnpm test`
- Contains project structure overview
- Contains links to docs/architecture.md, docs/taxonomy.md, docs/governance.md, docs/questionnaire-authoring.md
- Contains code conventions section
  </verify>
  <done>CONTRIBUTING.md exists with development setup, testing, project structure, contribution types, and code conventions</done>
</task>

<task type="auto">
  <name>Task 2: Reconcile README.md with actual implementation</name>
  <files>README.md</files>
  <action>
Update README.md to fix all inaccuracies identified in the research. The README is the first thing a new developer sees and must be accurate at release.

**Specific corrections required:**

1. **Repository Structure section** — Replace the entire structure listing with the actual source layout:
   - Remove `src/client/` directory (does not exist; facade is `src/index.ts` with Axon namespace)
   - Remove `src/registry/credentials.ts` and `src/registry/endpoints.ts` (actual files: registry.ts, npi.ts, persistence.ts, schemas.ts)
   - Remove `src/broker/handshake.ts` and `src/broker/session.ts` (actual files: broker.ts, audit.ts)
   - Remove `src/protocol/consent.ts` and `src/protocol/credential.ts` (actual files: identity.ts, schemas.ts, nonce.ts, errors.ts)
   - Add `src/taxonomy/`, `src/questionnaires/`, `src/mock/`, `src/types/` directories
   - Add `data/` directory (taxonomy and questionnaire JSON data)
   - Show `spec/` with all 5 documents (add credential.md which is missing from current README)
   - Show `docs/` directory with all 5 documents created in this phase
   - Show `CONTRIBUTING.md`

2. **CLI Commands section** — Remove entirely. Axon is a library package, not a CLI application. There are no `axon start`, `axon status`, `axon register`, `axon verify`, or `axon dev:registry` commands.

3. **Local Development section** — Fix the script commands:
   - Remove `pnpm dev:registry` and `pnpm dev:mock` (do not exist in package.json)
   - Keep `pnpm install`, `pnpm test`, `pnpm build`
   - Add `pnpm test:coverage`

4. **The Axon API Client code example** — Update to show the actual API:
   ```typescript
   import { AxonTaxonomy, AxonRegistry, AxonBroker, AxonQuestionnaires } from '@careagent/axon'

   // Taxonomy
   const actions = AxonTaxonomy.getActionsForType('physician')
   const isValid = AxonTaxonomy.validateAction('chart.progress_note')

   // Questionnaires
   const questionnaire = AxonQuestionnaires.getForType('physician')

   // Registry (instance with file-backed persistence)
   const registry = new AxonRegistry()

   // Mock server (for integration testing)
   import { createMockAxonServer } from '@careagent/axon/mock'
   ```
   Remove references to `AxonClient` (does not exist), `registry.search({ location: ... })` (no location search in v1), and `client.connect()` (connection is through AxonBroker).

5. **spec/ section** — Add `credential.md` to the spec list (currently only 4 specs listed; there are 5).

6. **Governance section** — Update to reference `docs/governance.md` accurately (it covers taxonomy and protocol change processes, not full foundation governance -- that is v2).

7. **Contributing section** — Update to reference `CONTRIBUTING.md` as an existing file.

8. **Installation section** — Remove the "Running the Axon Registry" subsection (Axon is not run as a service). Keep the package installation instructions.

Preserve the README's overall structure, tone, and the sections that are accurate (What This Package Does, What Axon Does Not Do, Who Can Talk to Axon, Core Principle, Relationship to the Ecosystem, Related Repositories, License). These conceptual sections are well-written and accurate. Only fix factual inaccuracies about the implementation.
  </action>
  <verify>
- README.md no longer contains references to: `src/client/`, `src/broker/handshake.ts`, `src/broker/session.ts`, `src/registry/credentials.ts`, `src/registry/endpoints.ts`, `src/protocol/consent.ts`, `src/protocol/credential.ts`
- README.md no longer contains CLI commands section (`axon start`, `axon status`, etc.)
- README.md no longer contains `pnpm dev:registry` or `pnpm dev:mock`
- README.md contains accurate Repository Structure matching actual source layout
- README.md contains links to `docs/architecture.md`, `docs/governance.md`, `CONTRIBUTING.md`
- README.md lists all 5 spec documents
- All file paths in README exist in the actual codebase
  </verify>
  <done>README.md accurately reflects the implemented codebase with correct file paths, no non-existent CLI commands, updated code examples, complete spec list, and valid links to all newly created documentation</done>
</task>

</tasks>

<verification>
- `CONTRIBUTING.md` exists with development setup, testing, contribution types, and governance links
- `README.md` has been reconciled with the actual implementation (no aspirational file paths or non-existent commands)
- All cross-references from README.md and CONTRIBUTING.md to docs/ files resolve to files that exist (created in Plans 01 and 02)
</verification>

<success_criteria>
- A new developer can clone the repository, follow CONTRIBUTING.md to set up, build, and test
- README.md is the accurate entry point to the project -- every file path, command, and API reference matches the actual implementation
- All documentation cross-references form a coherent navigation structure: README -> docs/* -> spec/*
</success_criteria>

<output>
After completion, create `.planning/phases/06-documentation-and-release/06-03-SUMMARY.md`
</output>
