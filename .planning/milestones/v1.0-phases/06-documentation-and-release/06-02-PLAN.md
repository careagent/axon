---
phase: 06-documentation-and-release
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/taxonomy.md
  - docs/questionnaire-authoring.md
  - docs/governance.md
autonomous: true
requirements:
  - DOCS-03
  - DOCS-04
  - DOCS-05

must_haves:
  truths:
    - "A developer can read docs/taxonomy.md and understand the action hierarchy, versioning rules, and how to propose new actions"
    - "A clinical domain expert can read docs/questionnaire-authoring.md and author a new provider type questionnaire without needing to understand TypeScript"
    - "docs/governance.md describes the practical process for proposing taxonomy and protocol changes with versioning rules"
  artifacts:
    - path: "docs/taxonomy.md"
      provides: "Taxonomy guide with hierarchy explanation, versioning, and extension process"
      contains: "taxonomy_version"
    - path: "docs/questionnaire-authoring.md"
      provides: "Step-by-step guide for authoring questionnaires"
      contains: "action_assignments"
    - path: "docs/governance.md"
      provides: "Governance model for taxonomy and protocol changes"
      contains: "semver"
  key_links:
    - from: "docs/taxonomy.md"
      to: "data/taxonomy/v1.0.0.json"
      via: "relative link to data file"
      pattern: "data/taxonomy"
    - from: "docs/questionnaire-authoring.md"
      to: "data/questionnaires/physician.json"
      via: "relative link to reference questionnaire"
      pattern: "data/questionnaires"
    - from: "docs/governance.md"
      to: "docs/taxonomy.md"
      via: "relative link"
      pattern: "taxonomy\\.md"
---

<objective>
Create the taxonomy guide, questionnaire authoring guide, and governance model documentation.

Purpose: Enable developers to understand and extend the taxonomy, clinical domain experts to author new questionnaires, and contributors to understand the governance process for changes.

Output: `docs/taxonomy.md`, `docs/questionnaire-authoring.md`, `docs/governance.md`
</objective>

<execution_context>
@/Users/medomatic/.claude/get-shit-done/workflows/execute-plan.md
@/Users/medomatic/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-documentation-and-release/06-RESEARCH.md

# Taxonomy source and data
@src/taxonomy/taxonomy.ts
@src/taxonomy/schemas.ts
@src/taxonomy/loader.ts
@data/taxonomy/v1.0.0.json

# Questionnaire source and data
@src/questionnaires/questionnaires.ts
@src/questionnaires/schemas.ts
@src/questionnaires/loader.ts
@src/questionnaires/cans-fields.ts
@data/questionnaires/physician.json
@data/questionnaires/nursing.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create taxonomy guide and governance model</name>
  <files>docs/taxonomy.md, docs/governance.md</files>
  <action>
**Part A: Create `docs/taxonomy.md`**

Write the taxonomy guide following neuron README style (concise, tables, ASCII diagrams, no emoji). Target audience: developers extending the taxonomy.

Sections:

1. **Overview** — The clinical action taxonomy is a hierarchical vocabulary of provider actions using dot-notation identifiers. It maps what each provider type can do in digital care. The taxonomy is a versioned JSON data file, not hardcoded code.

2. **Action Hierarchy** — Explain the structure with an ASCII tree:
   - 7 atomic action categories: chart, order, charge, perform, interpret, educate, coordinate
   - Mostly 2-level hierarchy (e.g., `chart.progress_note`)
   - 3-level only for surgical procedures (`perform.surgical.general`, `perform.surgical.cardiac`, etc.)
   - Show example: `chart.progress_note`, `order.medication`, `perform.surgical.general`

3. **Provider Types** — Table of the 49 provider types with their categories. Reference `data/taxonomy/v1.0.0.json` for the complete list. Show the 6 categories: physician, app, nursing, dental, behavioral_health, allied_health, pharmacy, vision_hearing, emergency.

4. **Action Mapping** — Explain `applicable_types`: every action maps to one or more provider types. The 6 common cross-type actions are available to all 49 types. Show example: `chart.progress_note` is available to all; `perform.surgical.cardiac` is physician-only.

5. **Versioning** — Taxonomy uses semver. Current version: `1.0.0`. The version string is recorded in CANS.md as `scope.taxonomy_version`. Explain the versioning rules:
   - Patch (1.0.x): Fix typos, clarify descriptions. No action ID or mapping changes.
   - Minor (1.x.0): Add new actions or provider type mappings. No existing action IDs removed.
   - Major (x.0.0): Rename or remove action IDs. Requires migration path.

6. **Data File Format** — Show the JSON structure of `data/taxonomy/v1.0.0.json` with a small excerpt (1-2 actions). Explain the fields: `version`, `actions[]` with `id`, `name`, `description`, `category`, `applicable_types`, `governed_by`, and optional `parent`.

7. **API Reference** — Brief table of AxonTaxonomy methods:
   | Method | Returns | Example |
   Cover: getActionsForType, validateAction, getAction, getVersion, getProviderTypes, getProviderTypesByCategory, getType

8. **Extending the Taxonomy** — Step-by-step process for proposing a new action:
   1. Open an issue describing the clinical action and which provider types need it
   2. Specify the action ID using the dot-notation hierarchy
   3. List applicable_types and governed_by
   4. Update `data/taxonomy/v1.0.0.json` (or next version)
   5. Run `pnpm test` to verify data integrity (tests validate all cross-references)
   6. Submit PR for review per governance process (link to docs/governance.md)

9. **See Also** — Links to docs/architecture.md, docs/questionnaire-authoring.md, docs/governance.md.

**Part B: Create `docs/governance.md`**

Write the governance model for v1. CRITICAL: Scope to practical process only. GOV-01 and GOV-02 (foundation governance) are explicitly v2. Do NOT write about board structure, voting procedures, or funding.

Sections:

1. **Overview** — Axon governance covers taxonomy and protocol changes. Foundation-level governance (board structure, funding) is planned for v2.

2. **Taxonomy Changes** — Process for proposing new actions or modifying existing ones:
   - Open issue with: action ID, name, description, applicable_types, governed_by, clinical justification
   - Clinical domain review (for provider-type-specific actions)
   - Version bump according to semver rules (link to docs/taxonomy.md versioning section)
   - PR review and merge

3. **Protocol Changes** — Process for proposing protocol modifications:
   - Open issue with: which spec is affected, what changes, backward compatibility analysis
   - Protocol changes require discussion before code
   - Breaking changes require major version bump
   - Non-breaking extensions can be proposed through standard PR process

4. **Versioning Rules** — Semver for both taxonomy and protocol:
   - Taxonomy version independent of package version
   - Protocol version tracks the message format version
   - Both follow semver (patch/minor/major with same semantics)

5. **Questionnaire Changes** — Brief note: new questionnaires for provider types follow the authoring guide (link to docs/questionnaire-authoring.md). The validation pipeline ensures data integrity.

6. **Future Governance** — One paragraph: Foundation-level governance (GOV-01, GOV-02) including organizational structure and formal decision-making processes is planned for v2.
  </action>
  <verify>
- File exists: `docs/taxonomy.md`
- File exists: `docs/governance.md`
- `docs/taxonomy.md` contains the 7 atomic action categories
- `docs/taxonomy.md` contains semver versioning rules
- `docs/taxonomy.md` contains step-by-step extension process
- `docs/taxonomy.md` references `data/taxonomy/v1.0.0.json`
- `docs/governance.md` does NOT contain board structure, voting procedures, or funding model
- `docs/governance.md` contains taxonomy and protocol change processes
  </verify>
  <done>docs/taxonomy.md explains the action hierarchy, versioning rules, and extension process; docs/governance.md describes practical taxonomy and protocol change governance without v2 foundation topics</done>
</task>

<task type="auto">
  <name>Task 2: Create questionnaire authoring guide</name>
  <files>docs/questionnaire-authoring.md</files>
  <action>
Write `docs/questionnaire-authoring.md`. CRITICAL AUDIENCE: clinical domain experts, NOT TypeScript developers. Lead with JSON structure and clinical concepts. Minimize TypeScript jargon.

Sections:

1. **Overview** — A questionnaire determines a provider's digital scope of practice during onboarding. Each provider type has its own questionnaire. The system validates questionnaire data automatically -- this guide covers what a clinical expert needs to author.

2. **Questionnaire Structure** — Show the top-level JSON format using the physician questionnaire as a concrete example:
   ```json
   {
     "provider_type": "physician",
     "version": "1.0.0",
     "taxonomy_version": "1.0.0",
     "display_name": "...",
     "description": "...",
     "questions": [...]
   }
   ```
   Explain each field in plain language.

3. **Question Format** — Show a complete single question from the physician questionnaire. Explain:
   - `id`: unique identifier for the question
   - `text`: the question shown to the provider
   - `answer_type`: "boolean" (yes/no) or "single_select" (pick one)
   - `required`: whether the question must be answered
   - `options`: choices for single_select questions (with `value`, `label`, `description`)
   - `cans_field`: which field in the provider's CANS record this answer maps to
   - `action_assignments`: which taxonomy actions are granted based on the answer

4. **Conditional Questions** — Explain `show_when` using the surgical/non-surgical branching as a concrete example:
   - Question: "Do you perform surgical procedures?"
   - If yes → show surgical subspecialty question
   - If no → show non-surgical follow-up
   Show the JSON for `show_when`: `{ "question_id": "...", "equals": "..." }`
   Note: The `show_when` question must appear BEFORE the conditional question in the array.

5. **Action Assignments** — Explain how questionnaire answers map to taxonomy actions:
   - `answer_value`: the answer that triggers the grant (always a string: "true", "false", or an option value)
   - `grants`: array of taxonomy action IDs that are granted
   Show example: a boolean question that grants `chart.progress_note` and `chart.history_and_physical` when answered "true".
   Note: All action IDs must exist in the current taxonomy version. The system validates this automatically.

6. **Valid CANS Fields** — List all 11 valid CANS field paths that questionnaire mappings can reference:
   provider.licenses, provider.certifications, provider.specialty, provider.subspecialty, provider.organizations, scope.permitted_actions, scope.taxonomy_version, scope.practice_setting, scope.supervision_level, autonomy.default_level, skills.authorized

7. **Stub Questionnaires** — Explain the current state: Physician has a full questionnaire (12 questions). All other 48 provider types have valid stub questionnaires (correct metadata, empty questions array). Show the stub format using nursing.json as an example. Clinical experts should use the physician questionnaire as a template when authoring new questionnaires.

8. **Validation** — Brief section explaining that the system automatically validates:
   - JSON structure matches the expected format
   - All taxonomy action IDs in `action_assignments.grants[]` exist in the taxonomy
   - All `cans_field` paths are in the valid CANS field list
   - All `show_when` references point to questions that appear earlier in the array
   Run `pnpm test` to verify. Do NOT mention TypeBox, TypeCompiler, or the 4-step validation pipeline by name.

9. **Step-by-Step: Author a New Questionnaire** — Numbered steps:
   1. Copy the physician questionnaire as a starting template
   2. Update `provider_type` to the target type ID (from the taxonomy)
   3. Update `display_name` and `description`
   4. Replace questions with ones appropriate for the provider type
   5. Set `cans_field` mappings for each question
   6. Add `action_assignments` referencing valid taxonomy action IDs for the provider type (check available actions via `AxonTaxonomy.getActionsForType('type_id')`)
   7. Add `show_when` for any conditional questions (ensure referenced question appears earlier)
   8. Save as `data/questionnaires/{type_id}.json`
   9. Run `pnpm test` to validate
   10. Submit PR per governance process

10. **See Also** — Links to docs/taxonomy.md (for valid action IDs), docs/governance.md (for change process), docs/architecture.md.
  </action>
  <verify>
- File exists: `docs/questionnaire-authoring.md`
- Does NOT start with `import` or TypeBox schema code
- Contains complete question JSON example
- Contains `show_when` conditional logic explanation
- Contains `action_assignments` explanation
- Contains all 11 valid CANS fields
- Contains step-by-step authoring instructions
- References `data/questionnaires/physician.json` as the template
  </verify>
  <done>docs/questionnaire-authoring.md provides a step-by-step guide for clinical domain experts to author new questionnaires using JSON format, conditional logic, and CANS field mapping -- without requiring TypeScript knowledge</done>
</task>

</tasks>

<verification>
- `docs/taxonomy.md` exists and covers hierarchy, versioning, and extension process
- `docs/questionnaire-authoring.md` exists and is written for clinical domain experts (not TypeScript developers)
- `docs/governance.md` exists and covers taxonomy/protocol change processes without v2 foundation topics
- All three documents cross-reference each other appropriately
- All file paths referenced in documents exist in the actual codebase
</verification>

<success_criteria>
- A developer can read `docs/taxonomy.md` and understand how to propose a new taxonomy action
- A clinical domain expert can read `docs/questionnaire-authoring.md` and author a new questionnaire for a provider type
- `docs/governance.md` describes actionable processes for taxonomy and protocol changes within v1 scope
</success_criteria>

<output>
After completion, create `.planning/phases/06-documentation-and-release/06-02-SUMMARY.md`
</output>
