---
phase: 01-package-foundation-and-clinical-action-taxonomy
plan: 02
type: execute
wave: 2
depends_on:
  - 01-01
files_modified:
  - data/taxonomy/v1.0.0.json
autonomous: true
requirements:
  - TAXO-01
  - TAXO-02
  - TAXO-06
  - TAXO-07

must_haves:
  truths:
    - "Taxonomy JSON contains the full Physician action set organized under all 7 atomic actions (chart, order, charge, perform, interpret, educate, coordinate)"
    - "Every one of the 49 provider types is defined in the taxonomy with id, display_name, category, and member_roles"
    - "Every action has applicable_types with at least one provider type listed"
    - "Every provider type has at least the common cross-type actions available via applicable_types"
    - "Every leaf action has an id (dot-notation) and a human-readable description"
    - "Each action includes a governed_by array indicating governing authorities"
    - "Taxonomy data lives in data/taxonomy/v1.0.0.json as a versioned JSON data file with version field at root"
  artifacts:
    - path: "data/taxonomy/v1.0.0.json"
      provides: "Complete versioned taxonomy data with Physician actions, common cross-type actions, 49 provider types"
      contains: "\"version\": \"1.0.0\""
  key_links:
    - from: "data/taxonomy/v1.0.0.json"
      to: "src/taxonomy/schemas.ts"
      via: "JSON structure matches TaxonomyVersionSchema"
      pattern: "\"version\".*\"provider_types\".*\"actions\""
---

<objective>
Author the v1.0.0.json taxonomy data file with all 49 provider types, full Physician action set, and common cross-type actions.

Purpose: Create the foundational clinical action vocabulary that CANS.md `scope.permitted_actions` references. This is the domain data that the AxonTaxonomy API (Plan 03) will load and index. Without this data, there is no taxonomy to serve.
Output: `data/taxonomy/v1.0.0.json` -- a single self-contained taxonomy file that validates against the TypeBox TaxonomyVersionSchema from Plan 01.
</objective>

<execution_context>
@/Users/medomatic/.claude/get-shit-done/workflows/execute-plan.md
@/Users/medomatic/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-package-foundation-and-clinical-action-taxonomy/01-RESEARCH.md
@.planning/phases/01-package-foundation-and-clinical-action-taxonomy/01-CONTEXT.md
@.planning/phases/01-package-foundation-and-clinical-action-taxonomy/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Author the 49 provider type definitions with categories and member roles</name>
  <files>data/taxonomy/v1.0.0.json</files>
  <action>
Create `data/taxonomy/v1.0.0.json` starting with the root structure and all 49 provider type definitions. The actions array will be populated in Task 2.

Root structure:
```json
{
  "version": "1.0.0",
  "effective_date": "2026-02-21",
  "description": "Axon clinical action taxonomy v1.0.0 â€” full Physician actions + common cross-type actions for all 49 provider types",
  "provider_types": [ ... ],
  "actions": []
}
```

Define all 49 provider types grouped under categories per CONTEXT.md. Each provider type must have:
- `id`: lowercase_snake_case (e.g., "physician", "advanced_practice_provider", "nursing")
- `display_name`: Human-readable (e.g., "Physician", "Advanced Practice Provider")
- `category`: One of "medical", "dental", "behavioral_health", "allied_health", "diagnostics", "emergency", "surgical", "administrative"
- `member_roles`: Array of credential abbreviations from PRD section 2.4.3

Use these exact category mappings (from RESEARCH.md):
- **medical**: physician, advanced_practice_provider, nursing, nursing_support, pharmacy
- **dental**: dental
- **behavioral_health**: behavioral_mental_health
- **allied_health**: physical_rehabilitation, occupational_therapy, speech_language, respiratory, audiology, vision_optometry, nutrition_dietetics, podiatry, chiropractic, midwifery, genetic_counseling, orthotics_prosthetics, recreational_therapy, creative_arts_therapy, acupuncture_traditional_medicine, massage_bodywork, athletic_training, sleep_medicine, wound_care, lactation, vision_rehabilitation, deaf_hard_of_hearing, kinesiotherapy, child_life
- **diagnostics**: radiology_imaging, laboratory, cardiac_vascular_diagnostics, neurodiagnostics, dialysis_nephrology, medical_physics, ophthalmic
- **emergency**: emergency_prehospital
- **surgical**: surgical, anesthesia_technology
- **administrative**: sterile_processing, health_information_coding, community_public_health, home_health_hospice, patient_navigation, clinical_research, organ_tissue, rehabilitation_engineering

Member roles per PRD section 2.4.3:
- physician: ["MD", "DO"]
- advanced_practice_provider: ["NP", "PA", "CRNA", "CNM", "CNS"]
- nursing: ["RN", "LPN", "LVN"]
- nursing_support: ["CNA", "MA", "Patient Care Technician"]
- pharmacy: ["Pharmacist", "Pharmacy Technician"]
- dental: ["Dentist", "Dental Hygienist", "Dental Assistant", "Dental Therapist"]
- behavioral_mental_health: ["Psychologist", "LCSW", "LPC", "LMFT", "Psychiatric Technician", "Substance Abuse Counselor", "BCBA"]
- (continue for all 49 using PRD 2.4.3 data)

Leave the `actions` array empty -- it will be populated in Task 2.

Verify: count exactly 49 provider_types entries. Validate each has all required fields.
  </action>
  <verify>
Run `node -e "const d = require('./data/taxonomy/v1.0.0.json'); console.log('Provider types:', d.provider_types.length); console.log('Has version:', d.version === '1.0.0')"` -- must output "Provider types: 49" and "Has version: true". Manually verify categories match the mapping above.
  </verify>
  <done>
data/taxonomy/v1.0.0.json contains exactly 49 provider type definitions with correct ids, display_names, categories, and member_roles from PRD 2.4.3.
  </done>
</task>

<task type="auto">
  <name>Task 2: Author Physician action set and common cross-type actions with applicable_types mappings</name>
  <files>data/taxonomy/v1.0.0.json</files>
  <action>
Populate the `actions` array in `data/taxonomy/v1.0.0.json` with the full Physician action set and common cross-type actions.

**Hierarchy design (per CONTEXT.md -- Claude's discretion):**
Use 2 levels for most actions (e.g., `chart.progress_note`). Use 3 levels only for high-volume categories where a middle grouping aids UI organization (e.g., `perform.surgical.craniotomy` if surgical procedures warrant a group). Per RESEARCH.md recommendation, keep mostly 2-level and only add 3rd level where clinically meaningful.

**Action structure (every action):**
```json
{
  "id": "chart.progress_note",
  "atomic_action": "chart",
  "display_name": "Progress Note",
  "description": "Document a patient's clinical progress, current status, and plan updates",
  "applicable_types": ["physician", "advanced_practice_provider", "nursing", ...],
  "governed_by": ["state_board", "institution"],
  "added_in": "1.0.0"
}
```

For 3-level actions, include `parent` field:
```json
{
  "id": "perform.surgical.craniotomy",
  "atomic_action": "perform",
  "display_name": "Craniotomy",
  "description": "Surgical opening of the skull for intracranial access",
  "applicable_types": ["physician"],
  "governed_by": ["state_board", "specialty_board"],
  "parent": "perform.surgical",
  "added_in": "1.0.0"
}
```

**Common cross-type actions (MUST be included in applicable_types for ALL 49 provider types):**
Define at minimum these common actions that every provider type can perform:
- `chart.progress_note` -- Document clinical progress
- `chart.communication` -- Document clinical communications
- `educate.patient_education` -- Provide patient education
- `educate.discharge_instructions` -- Provide discharge instructions
- `coordinate.referral` -- Initiate or process referrals
- `coordinate.care_transition` -- Coordinate care transitions

All 49 provider type IDs must be listed in `applicable_types` for each common action. Do not use inheritance -- explicitly list every type ID.

**Full Physician action set (TAXO-06 -- comprehensive actions across all 7 categories):**
Reference the Physician Action Set Scope from RESEARCH.md. Include actions under each category:

- **chart** (~7-8 actions): progress_note, history_and_physical, consultation_note, operative_note, discharge_summary, procedure_note, referral_letter, communication
- **order** (~8-10 actions): medication, controlled_substance, laboratory, imaging, procedure, referral, diet, activity_restriction, home_health, durable_medical_equipment
- **charge** (~5-6 actions): evaluation_management, procedure_coding, modifier_selection, diagnosis_coding, cpt_selection
- **perform** (~10-15 actions, consider 3-level grouping for surgical): physical_exam, injection, laceration_repair, biopsy, incision_drainage, suturing, cast_splint, critical_care, and several surgical subspecialty procedures (consider `perform.surgical.*` grouping)
- **interpret** (~6-8 actions): imaging_study, laboratory_result, electrocardiogram, pathology_report, pulmonary_function, electrodiagnostic, genetic_test
- **educate** (~4-5 actions): patient_education, medication_counseling, informed_consent, discharge_instructions, risk_benefit_discussion
- **coordinate** (~6-8 actions): referral, care_transition, insurance_authorization, specialist_consultation, social_services, case_management, multidisciplinary_conference

For physician-specific actions (those not in the common set), set `applicable_types` to include "physician" and other types where clinically appropriate (e.g., "advanced_practice_provider" for many order/chart actions, "nursing" for chart actions). Use clinical judgment:
- Only physicians (and APPs where applicable) can order controlled substances
- Many chart actions apply to physicians, APPs, and nursing
- Charge/coding actions apply to physicians and coding specialists
- Interpret actions apply primarily to physicians and relevant specialists
- Perform.surgical actions apply only to physicians (and surgical techs as assistants)

For non-physician types that are NOT the common cross-type set: do NOT add type-specific actions in v1 (that's TAXO-08/v2). They get ONLY the common cross-type actions listed above.

**governed_by guidance (from CONTEXT.md specifics):**
- Use known authority types: "state_board", "institution", "specialty_board", "federal", "professional_association"
- Prescribing/controlled substances: ["state_board", "federal"] (DEA)
- Documentation: ["state_board", "institution"]
- Surgical procedures: ["state_board", "specialty_board"]
- Billing/coding: ["institution", "federal"] (CMS)
- General clinical: ["state_board", "institution"]

**Goal:** Clinically coherent and complete enough for demo. Aim for approximately 50-70 total actions covering the full Physician scope with common actions available to all 49 types.
  </action>
  <verify>
Run a Node.js script to verify data integrity:
```bash
node -e "
const d = require('./data/taxonomy/v1.0.0.json');
const types = new Set(d.provider_types.map(t => t.id));
const atomics = new Set(['chart','order','charge','perform','interpret','educate','coordinate']);
const actionAtomics = new Set(d.actions.map(a => a.atomic_action));

console.log('Total actions:', d.actions.length);
console.log('All 7 atomics covered:', [...atomics].every(a => actionAtomics.has(a)));
console.log('Every action has >= 1 applicable_type:', d.actions.every(a => a.applicable_types.length >= 1));
console.log('Every applicable_type is a valid provider type:', d.actions.every(a => a.applicable_types.every(t => types.has(t))));
console.log('Every type has >= 1 action:', [...types].every(t => d.actions.some(a => a.applicable_types.includes(t))));
console.log('Physician actions cover all 7 categories:', [...atomics].every(cat => d.actions.some(a => a.atomic_action === cat && a.applicable_types.includes('physician'))));
"
```
All checks must print `true`.
  </verify>
  <done>
data/taxonomy/v1.0.0.json contains approximately 50-70 actions covering all 7 atomic categories; full Physician action set; common cross-type actions explicitly listing all 49 provider type IDs; every action has governed_by, description, and applicable_types; every provider type has at least the common actions.
  </done>
</task>

</tasks>

<verification>
1. `data/taxonomy/v1.0.0.json` exists with `"version": "1.0.0"` at root
2. Exactly 49 provider types defined with correct categories and member roles
3. Actions array covers all 7 atomic action categories
4. Physician type has actions under all 7 categories
5. All 49 provider types have at least the common cross-type actions in their applicable_types
6. Every action has `applicable_types.length >= 1`
7. Every action has a human-readable `description` and `display_name`
8. Every action has a `governed_by` array with valid authority types
9. No hardcoded TypeScript enums -- all data is in the JSON file
10. JSON validates against the TaxonomyVersionSchema from Plan 01 (verified in Plan 03)
</verification>

<success_criteria>
- v1.0.0.json is a self-contained versioned taxonomy data file (not code)
- All 49 provider types from PRD 2.4.3 are defined with categories for UI grouping
- Full Physician action set covers chart, order, charge, perform, interpret, educate, coordinate
- Common cross-type actions are explicitly listed per type (no implicit inheritance)
- Every action has dot-notation ID, description, applicable_types, and governed_by
- Data is clinically coherent and complete enough for the demo
</success_criteria>

<output>
After completion, create `.planning/phases/01-package-foundation-and-clinical-action-taxonomy/01-02-SUMMARY.md`
</output>
